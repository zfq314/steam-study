###### flume taildirsourse文件重复

配置文件

flume的组件

source-channel-sink

flume的启动命令

/data/program/flume/bin/flume-ng agent --conf-file /data/program/flume/conf/test.conf --name a1  -Dflume.root.logger=INFO,console

test.conf，修改源码，监控文件如果重命名，数据不重复读



```
##组件
a1.sources = r1
a1.channels = c1
a1.sinks = k1

##source
a1.sources.r1.type = TAILDIR
a1.sources.r1.positionFile = /data/program/flume/taildir_position.json
a1.sources.r1.filegroups = f1
a1.sources.r1.filegroups.f1 = /data/program/flume/files/file.*

##sink
a1.sinks.k1.type = logger
##channel
a1.channels.c1.type = memory

##拼装
a1.sources.r1.channels = c1
a1.sinks.k1.channel = c1


```

修改源码的步骤：

​	将原来的项目拷贝过来，远程拉取下来，

​	然后将某个module放入到自己的项目中，修改pom文件

​	修改代码，然后打包，修改源码的过程中，尽量不要修改包名和类名

​	打包之后，然后上传到相应的服务器上面。然后到相应的lib上面，

​	上传之后，先验证jar的功能是否使用，如果基本功能无异常，然后，测试自己的修改的模块，看是否能够完成自己的需求。